class Observable{constructor(e){this._value=e,this._subs=new Map}get value(){return this._value}set value(e){if(e===this._value)return;const t=this._value;this._value=e,this._subs.forEach(s=>{try{s(this._value,t)}catch(e){console.error("Observable subscriber error:",e)}})}subscribe(e,t=!1){const s=Symbol();if(this._subs.set(s,e),t)try{e(this._value,this._value)}catch(e){console.error("Observable subscriber error:",e)}return()=>{this._subs.delete(s)}}dispose(){this._subs.clear()}}export default Observable;
